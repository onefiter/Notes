# 小程序入门
> 文件`wxml => html`,`wxss => css` 构建前端页面的

## 2.小程序的运行机制
`app.json`文件里定义页面
> 微信小程序的JavaScript和前端展示页面是分在两个页面里的，中间有一个数据层

```javascript
this.setData({
    msg: '赋值'
})

```

小程序的`启动页面`、`启动场景`及`启动参数`可以在编译的时候进行选择
启动参数 `color=green`,启动场景可以分析用户进入的场景，
在对应的js文件中的onLoad中的回调函数中接受启动参数

```javascript
onLoad: function(opts){
    console.log(opts)
}
```

小程序
- 逻辑层
- Native <====> 第三方服务器（websocket、https进行通信）
- 渲染层

### 3.小程序的生命周期

### 4. TypeScript的入门

> 创建TypeScript，选择typescript的语言即可，


1. `cd wx`
2. `npm install`
3. 打开小程序开发工具，进行编译


JavaScript是一门糟糕的语言--运用广泛，但版本混乱，1995年产生，标准不唯一

重要的两个节点
1. 2009 ECMAScript ES5
2. 2015 ECMAScript ES6

之后也出过
- ECMAScript 2016
- ECMAScript 2017
- ECMAScript 2018
#### 4.1 Typescript基础语法
> 练习网址：[https://www.typescriptlang.org/play](https://www.typescriptlang.org/play)，`Typescript`会无脑将所写代码转换为`Javascript`代码

> 定义变量的时候最好不要用`var`，`var`会有很多坑。推荐使用`let`

> 编程规范： 同一项目要统一规范
1. 基本数据类型

```typescript
let anExampleVariable = "Hello World"
let anExampleNum = 123
console.log(anExampleVariable)

let anExampleVariable: string = "Hello World"
let anExampleNum: number = 123
let anExampleBool = true

//literal type ：可以少定义很多枚举类型

let answer: 'yes' | 'no' | 'maybe' = 'maybe'
let httpStatus: 200 | 404 |500 = 200
answer = 'yes'
httpStatus = 500

let httpStatus: 200 | 404 | 500 | '200' | '404' | '500' = 200

//union of types

httpStatus = 500

function f(s:200 | 404 | 500 | '200' | '404' | '500') {
    let status:String | Number =  s 
}

f(httpStatus)

//任意类型
let a :any = 'abc'
a = 123

//编译不会出错，不代表可以随便写，运行的时候可能会出错
a.name = "Jack"
console.log(a.salary)

//typescript undefined类型
let b: undefined

console.log(b)
```
2.  逻辑控制 

``` typescript
function processHttpStatus(s:
200 | 404 | 500 | '200' | '404' | '500') {
   //一律使用=== 以及 !==
    if ( s === 200 ) {
        console.log("ok")
    }  else if (s === 404) {
        console.log("not found")
    } else if (s === 500) {
        console.log("internal server errr")
    } else if (s === '200') {
        console.log("ok")
    }  else if (s === '404') {
        console.log("not found")
    } else if (s === '500') {
        console.log("internal server errr")
    }
}

processHttpStatus(200)


//简化
function processHttpStatus(s:
200 | 404 | 500 | '200' | '404' | '500') {
   //一律使用=== 以及 !==

const statusNum = typeof s === 'string' ? parseInt(s) : s

    if ( statusNum === 200 ) {
        console.log("ok")
    }  else if (statusNum === 404) {
        console.log("not found")
    } else if (statusNum === 500) {
        console.log("internal server errr")
    } 
}

processHttpStatus(200)

//switch 模式

function processHttpStatus(s:
200 | 404 | 500 | '200' | '404' | '500') {
   //一律使用=== 以及 !==

const statusNum = typeof s === 'string' ? parseInt(s) : s
    switch(statusNum){
        case 200: 
            console.log('ok')
            break
        case 404:
            console.log('not found')
            break
        case 500:
            console.log("internal server errr") 
            break
    }
}

processHttpStatus(200)
```

`try/catch` 
```typescript
let sum = 0

for (let i =0; i < 100; i++) {
    try {
        sum += i
        if (i % 17 === 0) {
            throw `bad number ${i}`
        } catch (err) {
            console.error(err)
        }
    }
}
console.log(sum)
```

3. 枚举类型

4. 数组

5. 对象

6. 函数

#### 4.2 Typescript函数式编程
#### 4.3 Typescript高阶函数个闭包
#### 4.4 Typescript数组的变换
#### 4.5 Promise
#### 4.6 Typescript之面向对象：接口、类、泛型

